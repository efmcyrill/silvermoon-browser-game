<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Silver Moon Survival</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.7);
            z-index: 1000;
        }

        .modal.active {
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .game-container {
            height: 80vh;
            max-height: 800px;
        }

        #gameCanvas {
            width: 100%;
            height: 100%;
        }
    </style>
</head>
<body class="bg-gray-900 text-gray-100">
    <nav class="bg-gray-800 shadow-lg">
        <div class="max-w-6xl mx-auto px-4">
            <div class="flex justify-between">
                <div class="flex space-x-7">
                    <div>
                        <a href="#" class="flex items-center py-4">
                            <span class="font-semibold text-gray-100 text-lg">Silver Moon</span>
                        </a>
                    </div>
                    <div class="hidden md:flex items-center space-x-1">
                        <a href="#" class="py-4 px-2 text-blue-400 border-b-4 border-blue-400 font-semibold">Main</a>
                        <a href="#" class="py-4 px-2 text-gray-300 font-semibold hover:text-blue-400 transition duration-300">Hall of Fame</a>
                        <a href="#" class="py-4 px-2 text-gray-300 font-semibold hover:text-blue-400 transition duration-300">Credits</a>
                    </div>
                </div>
                <div class="hidden md:flex items-center space-x-3">
                    <a href="#" class="py-2 px-4 font-medium text-gray-300 rounded hover:bg-blue-500 hover:text-white transition duration-300">Login</a>
                </div>
                <div class="md:hidden flex items-center">
                    <button class="outline-none mobile-menu-button">
                        <svg class="w-6 h-6 text-gray-300 hover:text-blue-400"
                            fill="none"
                            stroke-linecap="round"
                            stroke-linejoin="round"
                            stroke-width="2"
                            viewBox="0 0 24 24"
                            stroke="currentColor">
                            <path d="M4 6h16M4 12h16M4 18h16"></path>
                        </svg>
                    </button>
                </div>
            </div>
        </div>
        <div class="hidden mobile-menu">
            <ul class="px-2 pt-2 pb-4 space-y-3">
                <li><a href="#" class="block text-sm px-2 py-4 text-blue-400 bg-gray-700 font-semibold">Main</a></li>
                <li><a href="#" class="block text-sm px-2 py-4 text-gray-300 hover:bg-gray-700 hover:text-blue-400 transition duration-300">Hall of Fame</a></li>
                <li><a href="#" class="block text-sm px-2 py-4 text-gray-300 hover:bg-gray-700 hover:text-blue-400 transition duration-300">Credits</a></li>
                <li><a href="#" class="block text-sm px-2 py-4 text-gray-300 hover:bg-gray-700 hover:text-blue-400 transition duration-300">Login</a></li>
            </ul>
        </div>
    </nav>

    <!-- Story Modal -->
    <div id="storyModal" class="modal">
        <div class="bg-gray-800 p-8 rounded-lg shadow-2xl max-w-2xl mx-4">
            <h2 class="text-3xl font-bold mb-6 text-blue-400">Mission Brief</h2>
            <p class="text-gray-300 text-lg leading-relaxed mb-8">
                Your Spaceship is stranded on a remote moon with an abandoned mining site. Your astronauts discover that the site was overrun by some hungry alien animals who ate the previous mining crew stationed on this moon. The astronauts hear the aliens awake and are setting up a perimeter to defend their lives...
            </p>
            <button id="startGameBtn" class="bg-blue-500 hover:bg-blue-600 text-white font-bold py-3 px-8 rounded-lg transition duration-300 w-full">
                Start Game
            </button>
        </div>
    </div>

    <main class="container mx-auto px-4 py-8">
        <!-- Title Section -->
        <div class="text-center mb-12">
            <h1 class="text-5xl font-bold mb-4 text-blue-400">Silver Moon Survival</h1>
            <p class="text-xl text-gray-400">Can you survive on the moon?</p>
        </div>

        <!-- Game Container -->
        <div class="game-container bg-gray-800 rounded-lg shadow-2xl p-4 mb-12 mx-auto relative" style="width: 95%;">
            <div id="gameCanvas" class="h-full rounded-lg"></div>
            <button id="openStoryBtn" class="absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 bg-blue-500 hover:bg-blue-600 text-white text-xl font-bold py-4 px-8 rounded-lg transition duration-300 hover:scale-105">
                Start Game
            </button>
        </div>

        <!-- Game Features Section -->
        <section class="mb-12">
            <h2 class="text-3xl font-bold mb-8 text-center text-blue-400">Features</h2>
            <div class="grid md:grid-cols-3 gap-8">
                <div class="bg-gray-800 p-6 rounded-lg">
                    <h3 class="text-xl font-bold mb-4 text-gray-100">Resource Management</h3>
                    <p class="text-gray-400">Manage crucial resources like oxygen, water, and power to survive in the harsh lunar environment.</p>
                </div>
                <div class="bg-gray-800 p-6 rounded-lg">
                    <h3 class="text-xl font-bold mb-4 text-gray-100">Base Building</h3>
                    <p class="text-gray-400">Construct and expand your lunar base with various modules and facilities.</p>
                </div>
                <div class="bg-gray-800 p-6 rounded-lg">
                    <h3 class="text-xl font-bold mb-4 text-gray-100">Exploration</h3>
                    <p class="text-gray-400">Venture out to discover resources and unlock new technologies for survival.</p>
                </div>
            </div>
        </section>

        <!-- High Scores Section -->
        <section class="mb-12">
            <h2 class="text-3xl font-bold mb-8 text-center text-blue-400">Top Survivors</h2>
            <div class="bg-gray-800 rounded-lg overflow-hidden max-w-2xl mx-auto">
                <div class="p-4 grid grid-cols-3 text-gray-300 font-bold border-b border-gray-700">
                    <div>Rank</div>
                    <div>Player</div>
                    <div>Days Survived</div>
                </div>
                <div class="divide-y divide-gray-700">
                    <div class="p-4 grid grid-cols-3 text-gray-400">
                        <div>1</div>
                        <div>MoonWalker</div>
                        <div>156</div>
                    </div>
                    <div class="p-4 grid grid-cols-3 text-gray-400">
                        <div>2</div>
                        <div>StarGazer</div>
                        <div>143</div>
                    </div>
                    <div class="p-4 grid grid-cols-3 text-gray-400">
                        <div>3</div>
                        <div>LunarPioneer</div>
                        <div>128</div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer class="bg-gray-800 text-gray-300">
        <div class="container mx-auto px-4 py-8">
            <div class="flex flex-col md:flex-row justify-between items-center">
                <div class="mb-4 md:mb-0">
                    <h3 class="text-2xl font-bold text-blue-400">Silver Moon</h3>
                    <p class="text-sm text-gray-400">Â© 2025 Silver Moon Survival. All rights reserved.</p>
                </div>
                <div class="flex space-x-6">
                    <a href="#" class="hover:text-blue-400 transition-colors">
                        <svg class="w-6 h-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z" />
                        </svg>
                    </a>
                    <a href="#" class="hover:text-blue-400 transition-colors">
                        <svg class="w-6 h-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z M2 9h4v12H2z M4 2a2 2 0 1 1-4 0 2 2 0 0 1 4 0z" />
                        </svg>
                    </a>
                    <a href="#" class="hover:text-blue-400 transition-colors">
                        <svg class="w-6 h-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 2c2.717 0 3.056.01 4.122.06 1.065.05 1.79.217 2.428.465.66.254 1.216.598 1.772 1.153a4.908 4.908 0 0 1 1.153 1.772c.247.637.415 1.363.465 2.428.047 1.066.06 1.405.06 4.122 0 2.717-.01 3.056-.06 4.122-.05 1.065-.218 1.79-.465 2.428a4.883 4.883 0 0 1-1.153 1.772 4.915 4.915 0 0 1-1.772 1.153c-.637.247-1.363.415-2.428.465-1.066.047-1.405.06-4.122.06-2.717 0-3.056-.01-4.122-.06-1.065-.05-1.79-.218-2.428-.465a4.89 4.89 0 0 1-1.772-1.153 4.904 4.904 0 0 1-1.153-1.772c-.248-.637-.415-1.363-.465-2.428C2.013 15.056 2 14.717 2 12c0-2.717.01-3.056.06-4.122.05-1.066.217-1.79.465-2.428a4.88 4.88 0 0 1 1.153-1.772A4.897 4.897 0 0 1 5.45 2.525c.638-.248 1.362-.415 2.428-.465C8.944 2.013 9.283 2 12 2z" />
                        </svg>
                    </a>
                </div>
            </div>
        </div>
    </footer>

    <script type="module">
        import { Game } from './src/game.js';

        // Mobile menu toggle
        const btn = document.querySelector("button.mobile-menu-button");
        const menu = document.querySelector(".mobile-menu");
        const modal = document.getElementById("storyModal");
        const openStoryBtn = document.getElementById("openStoryBtn");
        const startGameBtn = document.getElementById("startGameBtn");
        const gameContainer = document.getElementById("gameCanvas");

        let game = new Game(gameContainer);

        btn.addEventListener("click", () => {
            menu.classList.toggle("hidden");
        });

        openStoryBtn.addEventListener("click", () => {
            modal.classList.add("active");
        });

        startGameBtn.addEventListener("click", () => {
            modal.classList.remove("active");
            openStoryBtn.style.display = 'none';
            game.startGame();
        });

        // Close modal when clicking outside
        modal.addEventListener("click", (e) => {
            if (e.target === modal) {
                modal.classList.remove("active");
            }
        });
    </script>
</body>
</html>